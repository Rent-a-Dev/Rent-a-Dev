<link rel="stylesheet" href="css/requestTable.css">

<article id="requestTableContainer">
  <table>
    <tr id="headings">
      <th>Name</th>
      <% if (isApproveRequests) { %>
        <th>Team Lead</th>
      <% } else { %>
        <th> Requested By </th>
      <% } %>
      <th>Requested availability</th>
      <% if (isApproveRequests) { %>
        <th class="availabilityColumn">Approve/Reject</th>
      <% } %>
      <th>Request status</th>
    </tr>

    <% data.forEach((row)=> {%>
      <tr>
        <td>
          <%= row.name%>
        </td>
        <td>
          <%= row.teamLead%>
        </td>
        <td>
          <details>
            <summary>
              <!-- <button class="availabilityBtn" onclick="showHideAvailability()">v</button> -->
              See availability
            </summary>
            <div
              style="background-color: yellowgreen; border: 1px;">
              <p>Some more really cool info</p>
            </div>
          </details>
        </td>
        <% if (isApproveRequests) { %>
          <td class="availabilityColumn">
            <button class="approveBtn" onclick="approveRequest(`<%=row.id%>`)">Approve</button>
            <button class="rejectBtn" onclick="rejectRequest(`<%=row.id%>`)">Reject</button>
          </td>
        <% } %>
        <td>
          <%= row.requestStatus%>
        </td>
      </tr>
      <tr class="availability hiddenRow" id=<%=row.id%>>
        <th>Hours:</th>
        <td>
          <%= row.hours%>
        </td>
        <th>Date Range:</th>
        <td class="availabilityColumn"></td>
        <td>
          <%= row.startDate%> - <%= row.endDate%>
        </td>
      </tr>
      <% }) %>
  </table>
</article>


<script src="js/requestTable.js"></script>